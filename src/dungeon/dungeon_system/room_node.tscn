[gd_scene load_steps=5 format=3 uid="uid://tjwasddwhj4o"]

[ext_resource type="Script" uid="uid://bte4ysspivtdd" path="res://src/dungeon/dungeon_system/room_node.gd" id="1_aocgm"]
[ext_resource type="Texture2D" uid="uid://4y5ahqph65pu" path="res://asset/dungeon/empty_icon.png" id="3_ckdls"]
[ext_resource type="PackedScene" uid="uid://dm8p72kolv6jr" path="res://src/battle/ui/tooltip.tscn" id="3_uchck"]

[sub_resource type="GDScript" id="GDScript_uchck"]
script/source = "@tool
extends Node2D

func _process(delta: float) -> void:
	queue_redraw()
	
	position = get_parent().icon.get_size()/2

func _draw() -> void:
	if Engine.is_editor_hint() == false:
		return
	
	for i in get_parent().connected_node:
		if i is NodePath and i != NodePath(\"\"):
			draw_line(Vector2.ZERO, global_position.direction_to(get_parent().get_node(i).global_position + (get_parent().get_node(i).icon.get_size() / 2)) * global_position.distance_to(get_parent().get_node(i).global_position), Color.WHITE, 2, false)
"

[node name="RoomNode" type="Panel"]
self_modulate = Color(0, 0, 0, 0)
offset_right = 18.0
offset_bottom = 18.0
script = ExtResource("1_aocgm")
desc = "Hello"
connected_node = [NodePath("")]
disable = false
oneshot = false

[node name="Tooltip" parent="." instance=ExtResource("3_uchck")]
layout_mode = 0
offset_right = 18.0
offset_bottom = 18.0
icon_texture = ExtResource("3_ckdls")
editor_show_text = false

[node name="debug_line" type="Node2D" parent="."]
position = Vector2(9, 9)
script = SubResource("GDScript_uchck")
